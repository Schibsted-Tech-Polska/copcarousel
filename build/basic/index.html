<!doctype html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><script>document.write('<base href="'+window.location.href.substr(0, window.location.href.indexOf(window.location.pathname.split('/')[2]))+'">');</script><title>COP Carousel demo</title><style>.cop-carousel-container *{box-sizing:border-box}.cop-carousel-container{overflow-x:hidden}.cop-carousel-container.vertical{overflow-x:inherit;overflow-y:hidden;height:100%}.cop-carousel{visibility:visible;position:relative;display:none}.cop-carousel,.cop-carousel>*{-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;-ms-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-ms-transform:translate(0,0);transform:translate3d(0,0,0)}.cop-carousel>*{float:left;overflow:hidden}.cop-carousel-container.vertical .cop-carousel>*{float:none;width:100%}.box{padding:10px;background-color:#f7f7f7;border:1px solid #999;border-radius:10px;position:relative;margin:10px auto}#carousel-wrap{padding:20px 50px}h1{text-align:center}.brick{padding:10px 5px}.brick-content{position:relative;width:auto;border-radius:10px;overflow:hidden}.brick-content img{max-width:100%;max-height:100%;display:block;border-radius:10px}.brick-content .bottom{position:absolute;bottom:0;width:100%;padding:10px;font-size:20px;background-color:#fff;background-color:rgba(255,255,255,.7)}.brick-content .bottom *{text-overflow:ellipsis;overflow:hidden}.brick-content .bottom a{display:block;font-size:18px}.controls{text-align:center}.controls a{color:#999;cursor:pointer;text-decoration:none}.controls a:hover{color:#000}.controls a.arrow{position:absolute;top:40%;font-size:40px}.controls a.arrow.prev{left:20px}.controls a.arrow.next{right:20px}.controls .pagination{padding:0;margin:0;list-style:none;color:#999;display:inline-block}.controls .pagination:after{content:"";clear:both}.controls .pagination li{margin:0 5px;display:inline-block}.controls .pagination li a{background-color:#999;border-radius:100%;display:block;width:10px;height:10px}.controls .pagination li a:hover{background-color:#000}.controls .pagination li.active a{background-color:green}pre{white-space:pre-wrap}</style></head><body><h1>Basic setup</h1><div id="carousel-wrap" class="box"><div id="carousel" class="cop-carousel-container"><div class="cop-carousel"><div class="brick"><div class="brick-content"><img><div class="bottom"><div class="name"></div><a class="email"></a></div></div></div></div></div><div class="controls"><div class="arrows"><a class="arrow prev" onclick="carousel.prev()">&#10094;</a> <a class="arrow next" onclick="carousel.next()">&#10095;</a></div><ul class="pagination"></ul></div></div><div class="box"><ul><li>custom settings:<pre>
carouselConf = {
    autoStart: true,
    plugData: {
        "user": {...}
    },
    slidesData: [],
    slideRender: slideRender,
    setupCallback: renderPagination,
    callback: updatePagination,
    itemsCustom: [
        [0, 1],
        [480, 2],
        [768, 3],
        [1024, 4]
    ]
};
</pre></li><li>custom CSS files: <a href="examples/common.css">examples/common.css</a></li><li>custom JS files: <a href="examples/basic/example.js">examples/basic/example.js</a>, <a href="examples/common.js">examples/common.js</a></li></ul></div><script>function CopCarousel(a,b){"use strict";function c(){var c;R=G,S=H,z=a.getBoundingClientRect()[Q.measure]||a["offset"+Q.measure.ucfirst()],e(),H=L>G,I=!H&&!!b.plugData,z/=G,F.children.length?f():(c=H?3*G:G,d(),j(c)),k(),A=z*G,D=H?-A:0,E=0,F.style[Q.measure]=z*F.children.length+"px",p(0,0),v(b.setupCallback),s()}function d(){H?(B=m(M-G),C=m(M+2*G-1)):(B=M,C=m(M+L-1))}function e(){var a;if(b.itemsCustom)for(a=0;a<b.itemsCustom.length&&!(b.itemsCustom[a][0]>z);a+=1)G=b.itemsCustom[a][1]}function f(){if(G!==R){var a,b=H?3*G:G,c=F.children.length,e=0;S?H?(e=G-R,a=b-e-c):(e=-R,a=b-e-c):H?(e=G,a=b-e-c):a=b-e-c,d(),e>=0?h(e):g(-e),a>=0?j(a):i(-a)}}function g(a){for(;a--;)F.removeChild(F.firstChild)}function h(a){for(;a--;)F.insertBefore(y.cloneNode(!0),F.firstChild)}function i(a){for(;a--;)F.removeChild(F.lastChild)}function j(a){for(;a--;)F.appendChild(y.cloneNode(!0))}function k(){var a,b,c,d,e=F.children.length;for(c=0,b=B;e>c;b=m(++b),c++)a=F.children[c],d=I&&c>=L?"plug":b,O(a,d),a.style[Q.measure]=z+"px"}function l(a){if(a)if(0>a)for(B=m(B-a);a++;)C=m(C+1),O(F.firstChild,C),F.appendChild(F.firstChild);else for(C=m(C-a);a--;)B=m(B-1),O(F.lastChild,B),F.insertBefore(F.lastChild,F.firstChild)}function m(a){return(L+a%L)%L}function n(a,b){a=m(a),M!=a&&o(a-M,b)}function o(a,b){if(t(),!P&&H){if(a%=L,a=a+L*(0+(-L/2>=a))-L*(0+(a>L/2)),Math.abs(a)>G)return P=!0,x.addEventListener&&F.removeEventListener("touchstart",Y,!1),N=m(M+a),void r(!0);var c=-a*z;p(c,b)}}function p(a,b){b="undefined"!=typeof b?b:J;var c=a+D;Z.intervalId||(E=a),q(c,b)}function q(a,b){var c=F.style;x.transitions?(c[x.transitionDuration]=b+"ms",c[x.transform]="translate"+Q.axis.toUpperCase()+"("+a+"px)"):b?Z.intervalId||Z.start(D,a,Q.position,"px",b,Y.transformTransitionEnd):c[Q.position]=a+"px"}function r(a){var b=F.style,c=400,d=Math.abs(1-a);if(x.transitions)b[x.transitionDuration]=c+"ms",b[x.transition]="opacity",v(function(){b.opacity=d});else if("opacity"in b){var e="opacity",f=+a;Z.property===Q.position&&Z.finish(!0),Z.start(f,d,e,"",c,Y.opacityTransitionEnd)}else b.opacity=d,Y.opacityTransitionEnd()}function s(){!T&&V&&b.autoStart&&H&&(T=setTimeout(function(){o(1)},V))}function t(){T&&clearTimeout(T),T=!1}if(a){var u=function(){},v=function(a){setTimeout(a||u,0)},w={autoStart:!1,delay:5e3,speed:500,itemsCustom:[[0,1],[480,2],[768,3]],vertical:!1,slidesData:[],slideRender:null,stopPropagation:!0,setupCallback:null,callback:null,disableScroll:!1},x={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch};!function(a,b){var c={transition:["transitionProperty","webkitTransition","MozTransition","OTransition","msTransition"],transitionDuration:["transitionDuration","webkitTransitionDuration","MozTransitionDuration","OTransitionDuration","msTransitionDuration"],transform:["transform","webkitTransform","MozTransform","OTransform","msTransform"]},d={transitionProperty:"transitionend",webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitiontnd",msTransition:"msTransitionEnd"};for(var e in c)for(var f in c[e]){if(void 0!==a.style[c[e][f]]){b[e]=c[e][f];break}b[e]=!1}b.transitionEnd=d[b.transition]||!1,b.transitions=!!b.transition}(document.createElement("swipe"),x);var y,z,A,B,C,D,E=0,F=a.children[0];b={}.extend(w,b||{});var G=1,H=!1,I=!1,J=b.speed||300,K=b.slidesData||[],L=K.length,M=m(parseInt(b.startSlide,10)||0),N=M;b.slideRender=b.slideRender||u;var O=function(a,c){a.getAttribute("data-idx")!=c&&(a.setAttribute("data-idx",c),b.slideRender(a,"plug"===c?b.plugData:K[c]))};b.itemsCustom=b.itemsCustom&&b.itemsCustom.sort(function(a,b){return a[0]-b[0]});var P=!1;b.template&&"string"==typeof b.template&&(y=document.createElement("div"),y.innerHTML=b.template,b.template=y.children[0]),y=b.template instanceof HTMLElement&&b.template||F.children.length&&F.removeChild(F.children[0])||"",F.innerHTML="";var Q=b.vertical?{measure:"height",axis:"y",oppAxis:"x",position:"top"}:{measure:"width",axis:"x",oppAxis:"y",position:"left"};b.vertical&&(a.className+=" vertical");var R,S,T,U,V=b.delay||0,W={},X={},Y={handleEvent:function(a){switch(a.type){case"touchstart":this.start(a);break;case"touchmove":this.move(a);break;case"touchend":v(function(){Y.end(a)});break;case x.transitionEnd:v(function(){Y.transitionEnd(a)});break;case"resize":v(this.resize)}b.stopPropagation&&a.stopPropagation()},start:function(a){var b=a.touches[0];W={x:b.pageX,y:b.pageY,time:+new Date},U=void 0,X={},this.transformTransitionEnd(a),F.addEventListener("touchmove",this,!1),F.addEventListener("touchend",this,!1)},move:function(a){if(!(a.touches.length>1||a.scale&&1!==a.scale)){b.disableScroll&&a.preventDefault();var c=a.touches[0];X={x:c.pageX-W.x,y:c.pageY-W.y},"undefined"==typeof U&&(U=!!(U||Math.abs(X[Q.axis])<Math.abs(X[Q.oppAxis]))),U?(F.removeEventListener("touchmove",Y,!1),F.removeEventListener("touchend",Y,!1)):(a.preventDefault(),t(),X.direction=Math.abs(X[Q.axis])/X[Q.axis],X[Q.axis]=Math.min(Math.abs(X[Q.axis]),A),X[Q.axis]<=A&&(X[Q.axis]=X.direction*X[Q.axis],p(X[Q.axis],0)))}},end:function(a){var b;if(!U&&X.direction){b=X.direction*Math.ceil(Math.abs(X[Q.axis])/z);var c=b*z!=E;p(b*z),c||this.transitionEnd(a),a.preventDefault()}return F.removeEventListener("touchmove",Y,!1),F.removeEventListener("touchend",Y,!1),!1},resize:function(){c(),F.removeEventListener("touchstart",Y,!1),H&&F.addEventListener("touchstart",Y,!1)},transitionEnd:function(a){"opacity"===a.propertyName?this.opacityTransitionEnd(a):/transform/i.test(a.propertyName)&&this.transformTransitionEnd(a)},transformTransitionEnd:function(a){N=N!==M?N:m(M-Math.round(E/z));var c=M-N;c=c+L*(0+(-L/2>c))-L*(0+(c>=L/2)),M=N,q(D,0),E=0,c&&(l(c),v(b.callback)),b.autoStart=!0,s()},opacityTransitionEnd:function(a){parseFloat(F.style.opacity)?(x.transitions&&(F.style[x.transition]="",F.style[x.transitionDuration]=""),F.style.opacity="",P=!1,x.touch&&F.addEventListener("touchstart",Y,!1),s()):(M=N,E=0,q(D,0),d(),k(),v(b.callback),b.autoStart=!0,setTimeout(function(){r(!1)},5))}},Z={duration:400,intervalId:0,initValue:0,finalValue:1,diffValue:1,startDate:0,property:"",unit:"",onAnimationEnd:null,start:function(a,b,c,d,e,f){this.initValue=a,this.finalValue=b,this.property=c,this.unit=d,this.duration=e,this.onAnimationEnd=f,this.diffValue=b-a,this.startDate=+new Date,this.intervalId=setInterval(this.tick,5)},tick:function(){var a=+new Date,b=a-Z.startDate,c=b/Z.duration,d=c*Z.diffValue,e=Z.initValue+d;F.style[Z.property]=e+Z.unit,a>=Z.startDate+Z.duration&&Z.finish()},finish:function(a){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=0,F.style[this.property]=this.finalValue+this.unit,!a&&this.onAnimationEnd&&"function"==typeof this.onAnimationEnd&&this.onAnimationEnd({elapsedTime:this.duration,currentValue:this.finalValue}))}};return c(),F.style.display="inherit",x.addEventListener?(x.touch&&H&&F.addEventListener("touchstart",Y,!1),x.transitions&&F.addEventListener(x.transitionEnd,Y,!1),window.addEventListener("resize",Y,!1)):window.onresize=function(){c()},{setup:function(){c()},slide:function(a,b){t(),n(a,b)},prev:function(){t(),o(-1)},next:function(){t(),o(1)},stop:function(){t()},getPos:function(){return M},getNumSlides:function(){return L},getSlidesPerPage:function(){return G},getIndex:function(){return M},getBoxSize:function(){return z},kill:function(){t(),F.style[Q.measure]="",F.style[Q.position]="",q(0,0),x.addEventListener?(F.removeEventListener(x.transitionEnd,Y,!1),window.removeEventListener("resize",Y,!1)):window.onresize=null}}}}function loadJSON(a,b){var c=new XMLHttpRequest;try{c=new XMLHttpRequest}catch(d){try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{c=new ActiveXObject("Microsoft.XMLHTTP")}catch(d){return console.log("Cannot use AJAX!"),!1}}}c.onreadystatechange=function(){if(4==c.readyState){var a=JSON.parse(c.responseText);"function"==typeof b&&b.call(null,a)}},c.open("GET",a,!0),c.send()}function jsonSuccess(a){carouselConf.slidesData=a.results,window.carousel=CopCarousel(document.querySelector("#carousel"),carouselConf)}function slideRender(a,b){var c,d,e=b.user,f=e.picture.large;d=a.querySelector("img"),d.style.visibility="hidden",d.style.maxHeight=(d.getBoundingClientRect().height||d.offsetHeight)+"px",d.src="",d["data-loaded"]=!1,d.onload=function(){d["data-loaded"]||(d["data-loaded"]=!0,d.style.visibility="",d.style.maxHeight="")},setTimeout(function(){d.src=f,(d.complete||"complete"==d.readyState||4==d.readyState)&&d.onload()},1),a.querySelector(".name").innerText=[e.name.title.ucfirst(),e.name.first.ucfirst(),e.name.last.ucfirst()].join(" "),c=a.querySelector(".email"),c.title=c.innerText=e.email,c.href="mailto:"+e.email}function renderPagination(){var a=carousel.getSlidesPerPage(),b=carouselConf.slidesData.length;if(a!==oldSlidesPerPage){oldSlidesPerPage=a;var c,d="",e=document.querySelector(".pagination"),f=Math.ceil(b/a),g=document.querySelector(".arrows");if(g&&(g.style.display=a>=b?"none":""),a>=b)return void(e.innerHTML="");for(c=0;f>c;c++)d+='<li><a onclick="carousel.slide('+c*a+')"></a></li>';e.innerHTML=d,e.children[Math.floor(carousel.getIndex()/a)].className+=" active"}}function updatePagination(){var a,b=document.querySelectorAll(".pagination .active"),c=b.length,d=carousel.getSlidesPerPage();for(a=0;c>a;a++)b[a].className=b[a].className.replace(/\s?active/g,"").trim();a=Math.floor(carousel.getIndex()/d),document.querySelectorAll(".pagination li")[a].className+=" active"}"function"!=typeof Object.prototype.extend&&(Object.prototype.extend=function(){for(var a,b=0;b<arguments.length;b++)if(a=arguments[b],a&&"object"==typeof a)for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);return this});var count=15;"function"!=typeof String.prototype.ucfirst&&(String.prototype.ucfirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)});var count=count||15,dataUrl="http://api.randomuser.me?results="+count,carouselConf={autoStart:!0,itemsCustom:[[0,1],[480,2],[768,3],[1024,4]],plugData:{user:{gender:"unknown",name:{title:"",first:"N",last:"N"},location:{street:"unknown",city:"unknown",state:"unknown",zip:"00000"},email:"unknown@example.com",username:"unknown",password:"unknown",registered:"0000000000",dob:"000000000",phone:"(000)-00-0000",cell:"(000)-00-0000",SSN:"000-00-0000",picture:{large:"examples/img/plug.png",medium:"examples/img/plug-mid.png",thumbnail:"examples/img/plug-thumb.png"}}},slidesData:[],slideRender:slideRender,setupCallback:renderPagination,callback:updatePagination};window.specialSettings&&carouselConf.extend(specialSettings);var oldSlidesPerPage=0;loadJSON(dataUrl,jsonSuccess);</script></body></html>